/////////////////////////////////////////////////////////////////////////////////////////
//
//	TUNA FRAMEWORK
//
//	Файл TextNodeWriter.js
//
//	Файл класса обрабытчика вывода в HTML элемент.
//
//	Author Kononenko Sergey <kononenheg@gmail.com>
//
/////////////////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////////////////
//	Импорт зависимостей
/////////////////////////////////////////////////////////////////////////////////////////

tuna.include("tuna.debug.IWriter");

/////////////////////////////////////////////////////////////////////////////////////////
//	Область имен.
/////////////////////////////////////////////////////////////////////////////////////////

var pkg = tuna.namespace("tuna.debug");

///////////////////////////////////////////////////////////////////////////////
//
//	Класс tuna.debug.TextNodeWriter
//
///////////////////////////////////////////////////////////////////////////////

/**
 * Класс вывода отладочной информации в HTML контейнер.
 *
 * Выводит сообщения добаляя текстровый узел.
 *
 * @implements tuna.debug.IWriter
 * 
 * @constructor
 * @param {String} targetID Идентификатор елемента в который будут выводится сообщения.
 */
pkg.TextNodeWriter = function(targetID)
{
	/**
	 * Элемент страницы в который будет добавлятся текст.
	 *
	 * @type HTMLElement
	 */
	this.__target = document.getElementById(targetID).
		appendChild(document.createElement("xmp"));

};

/////////////////////////////////////////////////////////////////////////////////////////
//	Реализация tuna.debug.IWriter
/////////////////////////////////////////////////////////////////////////////////////////

tuna.implement(pkg.TextNodeWriter, tuna.debug.IWriter);

/**
 * Вывод сообщения.
 *
 * @param {String} message Текст сообщения.
 */
pkg.TextNodeWriter.prototype.write = function(message)
{
	this.__target.appendChild(document.createTextNode(message + '\n'));
};

///////////////////////////////////////////////////////////////////////////////
//	Глобальные переменные и сокращения
///////////////////////////////////////////////////////////////////////////////

tuna.typedef(pkg.TextNodeWriter, "TextNodeWriter");
